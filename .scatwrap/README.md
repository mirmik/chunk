<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>README.md</title>
</head>
<body>
<!-- BEGIN SCAT CODE -->
#&nbsp;chunk<br>
<br>
`chunk`&nbsp;is&nbsp;a&nbsp;small&nbsp;CLI&nbsp;(command-line&nbsp;interface)&nbsp;tool&nbsp;that&nbsp;applies&nbsp;**structured&nbsp;patches**&nbsp;to&nbsp;a&nbsp;source&nbsp;tree.<br>
<br>
Patches&nbsp;are&nbsp;written&nbsp;in&nbsp;the&nbsp;**chunk&nbsp;v2**&nbsp;YAML&nbsp;(YAML&nbsp;Ain't&nbsp;Markup&nbsp;Language)&nbsp;format,&nbsp;described&nbsp;in&nbsp;[`CHUNK.md`](CHUNK.md).&nbsp;&nbsp;<br>
All&nbsp;operations&nbsp;are&nbsp;applied&nbsp;**transactionally**:&nbsp;on&nbsp;any&nbsp;error,&nbsp;changes&nbsp;are&nbsp;rolled&nbsp;back.<br>
<br>
---<br>
<br>
##&nbsp;Features<br>
<br>
-&nbsp;Applies&nbsp;patches&nbsp;in&nbsp;chunk&nbsp;v2&nbsp;YAML&nbsp;format&nbsp;&nbsp;<br>
-&nbsp;File&nbsp;operations:&nbsp;create&nbsp;and&nbsp;delete&nbsp;files&nbsp;&nbsp;<br>
-&nbsp;Text&nbsp;operations&nbsp;using&nbsp;robust&nbsp;markers&nbsp;(tolerant&nbsp;to&nbsp;whitespace&nbsp;changes)&nbsp;&nbsp;<br>
-&nbsp;C++&nbsp;and&nbsp;Python&nbsp;symbol-level&nbsp;operations&nbsp;(replace&nbsp;class&nbsp;or&nbsp;method)&nbsp;&nbsp;<br>
-&nbsp;Transactional&nbsp;apply&nbsp;with&nbsp;automatic&nbsp;backup&nbsp;and&nbsp;rollback&nbsp;&nbsp;<br>
<br>
See&nbsp;[`CHUNK.md`](CHUNK.md)&nbsp;or&nbsp;run:<br>
<br>
```bash<br>
chunk&nbsp;--help<br>
````<br>
<br>
for&nbsp;format&nbsp;details&nbsp;and&nbsp;examples.<br>
<br>
---<br>
<br>
##&nbsp;Usage<br>
<br>
Basic&nbsp;usage:<br>
<br>
```bash<br>
chunk&nbsp;path/to/patch.yml<br>
```<br>
<br>
Notes:<br>
<br>
*&nbsp;Paths&nbsp;in&nbsp;the&nbsp;patch&nbsp;are&nbsp;relative&nbsp;to&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br>
*&nbsp;If&nbsp;a&nbsp;marker,&nbsp;class,&nbsp;or&nbsp;method&nbsp;cannot&nbsp;be&nbsp;found&nbsp;(or&nbsp;is&nbsp;ambiguous),&nbsp;the&nbsp;patch&nbsp;is&nbsp;aborted&nbsp;and&nbsp;all&nbsp;affected&nbsp;files&nbsp;are&nbsp;restored.<br>
<br>
---<br>
<br>
##&nbsp;Install&nbsp;Linux<br>
<br>
Requirements:<br>
<br>
*&nbsp;CMake&nbsp;≥&nbsp;3.14<br>
*&nbsp;C++17&nbsp;compiler&nbsp;(for&nbsp;example&nbsp;`g++`&nbsp;or&nbsp;`clang++`)<br>
<br>
Build&nbsp;and&nbsp;install:<br>
<br>
```bash<br>
git&nbsp;clone&nbsp;https://github.com/mirmik/chunk.git<br>
cd&nbsp;chunk<br>
mkdir&nbsp;build&nbsp;&amp;&amp;&nbsp;cd&nbsp;build<br>
<br>
cmake&nbsp;..&nbsp;-DCMAKE_BUILD_TYPE=Release<br>
cmake&nbsp;--build&nbsp;.<br>
cmake&nbsp;--install&nbsp;.<br>
```<br>
<br>
By&nbsp;default&nbsp;the&nbsp;binary&nbsp;is&nbsp;installed&nbsp;into&nbsp;`${CMAKE_INSTALL_PREFIX}/bin`<br>
(usually&nbsp;`/usr/local/bin`&nbsp;on&nbsp;most&nbsp;distributions).<br>
<br>
---<br>
<br>
##&nbsp;Install&nbsp;Windows<br>
<br>
###&nbsp;Visual&nbsp;Studio<br>
<br>
Requirements:<br>
<br>
*&nbsp;Visual&nbsp;Studio&nbsp;2019&nbsp;or&nbsp;newer&nbsp;with&nbsp;C++&nbsp;support<br>
*&nbsp;CMake&nbsp;≥&nbsp;3.14<br>
<br>
Build&nbsp;and&nbsp;install:<br>
<br>
```powershell<br>
git&nbsp;clone&nbsp;https://github.com/mirmik/chunk.git<br>
cd&nbsp;chunk<br>
<br>
cmake&nbsp;-S&nbsp;.&nbsp;-B&nbsp;build&nbsp;-G&nbsp;&quot;Visual&nbsp;Studio&nbsp;17&nbsp;2022&quot;&nbsp;-DCMAKE_BUILD_TYPE=Release<br>
cmake&nbsp;--build&nbsp;build&nbsp;--config&nbsp;Release<br>
cmake&nbsp;--install&nbsp;build&nbsp;--config&nbsp;Release<br>
```<br>
<br>
The&nbsp;installer&nbsp;will&nbsp;place&nbsp;`chunk.exe`&nbsp;into&nbsp;`${CMAKE_INSTALL_PREFIX}\bin`<br>
(unless&nbsp;you&nbsp;override&nbsp;`CMAKE_INSTALL_PREFIX`).<br>
<br>
###&nbsp;MinGW&nbsp;/&nbsp;MSYS2<br>
<br>
In&nbsp;a&nbsp;MinGW&nbsp;MSYS2&nbsp;shell:<br>
<br>
```bash<br>
git&nbsp;clone&nbsp;https://github.com/mirmik/chunk.git<br>
cd&nbsp;chunk<br>
mkdir&nbsp;build&nbsp;&amp;&amp;&nbsp;cd&nbsp;build<br>
<br>
cmake&nbsp;..&nbsp;-G&nbsp;&quot;MinGW&nbsp;Makefiles&quot;&nbsp;-DCMAKE_BUILD_TYPE=Release<br>
cmake&nbsp;--build&nbsp;.<br>
cmake&nbsp;--install&nbsp;.<br>
```<br>
<br>
---<br>
<br>
##&nbsp;Tests<br>
<br>
After&nbsp;configuring&nbsp;the&nbsp;build:<br>
<br>
```bash<br>
cmake&nbsp;--build&nbsp;.&nbsp;--target&nbsp;chunk_tests<br>
./chunk_tests<br>
```<br>
<br>
---<br>
<br>
##&nbsp;License<br>
<br>
MIT<br>
<!-- END SCAT CODE -->
</body>
</html>
